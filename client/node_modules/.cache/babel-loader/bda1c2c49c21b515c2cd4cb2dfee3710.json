{"ast":null,"code":"function allSettled(arr) {\n  var P = this;\n  return new P(function (resolve, reject) {\n    if (!(arr && typeof arr.length !== 'undefined')) {\n      return reject(new TypeError(typeof arr + ' ' + arr + ' is not iterable(cannot read property Symbol(Symbol.iterator))'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        var then = val.then;\n\n        if (typeof then === 'function') {\n          then.call(val, function (val) {\n            res(i, val);\n          }, function (e) {\n            args[i] = {\n              status: 'rejected',\n              reason: e\n            };\n\n            if (--remaining === 0) {\n              resolve(args);\n            }\n          });\n          return;\n        }\n      }\n\n      args[i] = {\n        status: 'fulfilled',\n        value: val\n      };\n\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n}\n\nexport default allSettled;","map":{"version":3,"sources":["/app/node_modules/promise-polyfill/src/allSettled.js"],"names":["allSettled","arr","P","resolve","reject","length","TypeError","args","Array","prototype","slice","call","remaining","res","i","val","then","e","status","reason","value"],"mappings":"AAAA,SAASA,UAAT,CAAoBC,GAApB,EAAyB;AACvB,MAAIC,CAAC,GAAG,IAAR;AACA,SAAO,IAAIA,CAAJ,CAAM,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AACrC,QAAI,EAAEH,GAAG,IAAI,OAAOA,GAAG,CAACI,MAAX,KAAsB,WAA/B,CAAJ,EAAiD;AAC/C,aAAOD,MAAM,CACX,IAAIE,SAAJ,CACE,OAAOL,GAAP,GACE,GADF,GAEEA,GAFF,GAGE,gEAJJ,CADW,CAAb;AAQD;;AACD,QAAIM,IAAI,GAAGC,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BV,GAA3B,CAAX;AACA,QAAIM,IAAI,CAACF,MAAL,KAAgB,CAApB,EAAuB,OAAOF,OAAO,CAAC,EAAD,CAAd;AACvB,QAAIS,SAAS,GAAGL,IAAI,CAACF,MAArB;;AAEA,aAASQ,GAAT,CAAaC,CAAb,EAAgBC,GAAhB,EAAqB;AACnB,UAAIA,GAAG,KAAK,OAAOA,GAAP,KAAe,QAAf,IAA2B,OAAOA,GAAP,KAAe,UAA/C,CAAP,EAAmE;AACjE,YAAIC,IAAI,GAAGD,GAAG,CAACC,IAAf;;AACA,YAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgC;AAC9BA,UAAAA,IAAI,CAACL,IAAL,CACEI,GADF,EAEE,UAASA,GAAT,EAAc;AACZF,YAAAA,GAAG,CAACC,CAAD,EAAIC,GAAJ,CAAH;AACD,WAJH,EAKE,UAASE,CAAT,EAAY;AACVV,YAAAA,IAAI,CAACO,CAAD,CAAJ,GAAU;AAAEI,cAAAA,MAAM,EAAE,UAAV;AAAsBC,cAAAA,MAAM,EAAEF;AAA9B,aAAV;;AACA,gBAAI,EAAEL,SAAF,KAAgB,CAApB,EAAuB;AACrBT,cAAAA,OAAO,CAACI,IAAD,CAAP;AACD;AACF,WAVH;AAYA;AACD;AACF;;AACDA,MAAAA,IAAI,CAACO,CAAD,CAAJ,GAAU;AAAEI,QAAAA,MAAM,EAAE,WAAV;AAAuBE,QAAAA,KAAK,EAAEL;AAA9B,OAAV;;AACA,UAAI,EAAEH,SAAF,KAAgB,CAApB,EAAuB;AACrBT,QAAAA,OAAO,CAACI,IAAD,CAAP;AACD;AACF;;AAED,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,IAAI,CAACF,MAAzB,EAAiCS,CAAC,EAAlC,EAAsC;AACpCD,MAAAA,GAAG,CAACC,CAAD,EAAIP,IAAI,CAACO,CAAD,CAAR,CAAH;AACD;AACF,GA3CM,CAAP;AA4CD;;AAED,eAAed,UAAf","sourcesContent":["function allSettled(arr) {\n  var P = this;\n  return new P(function(resolve, reject) {\n    if (!(arr && typeof arr.length !== 'undefined')) {\n      return reject(\n        new TypeError(\n          typeof arr +\n            ' ' +\n            arr +\n            ' is not iterable(cannot read property Symbol(Symbol.iterator))'\n        )\n      );\n    }\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        var then = val.then;\n        if (typeof then === 'function') {\n          then.call(\n            val,\n            function(val) {\n              res(i, val);\n            },\n            function(e) {\n              args[i] = { status: 'rejected', reason: e };\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            }\n          );\n          return;\n        }\n      }\n      args[i] = { status: 'fulfilled', value: val };\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n}\n\nexport default allSettled;\n"]},"metadata":{},"sourceType":"module"}